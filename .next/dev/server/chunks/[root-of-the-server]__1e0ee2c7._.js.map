{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///D:/MEUS%20PROJETOS/my-landing/pages/api/checkout.js"],"sourcesContent":["import { MercadoPagoConfig, Preference } from \"mercadopago\";\n\nexport default async function handler(req, res) {\n  if (req.method === \"POST\") {\n    try {\n      console.log(\"TOKEN:\", process.env.MP_ACCESS_TOKEN);\n\n      const client = new MercadoPagoConfig({\n        accessToken: process.env.MP_ACCESS_TOKEN,\n      });\n\n      const preference = new Preference(client);\n\n      const response = await preference.create({\n        body: {\n          items: [\n            {\n              title: \"PDF com +5TB de Cursos\",\n              unit_price: 19.9,\n              quantity: 1,\n            },\n          ],\n          back_urls: {\n            success:\n              \"https://unschematically-elective-danyell.ngrok-free.dev/success\",\n            failure:\n              \"https://unschematically-elective-danyell.ngrok-free.dev/failure\",\n            pending:\n              \"https://unschematically-elective-danyell.ngrok-free.dev/pending\",\n          },\n          auto_return: \"approved\",\n        },\n      });\n\n      res.status(200).json({ url: response.init_point });\n    } catch (error) {\n      console.error(\"Erro Mercado Pago:\", error);\n      res.status(500).json({ error: error.message });\n    }\n  } else {\n    res.setHeader(\"Allow\", \"POST\");\n    res.status(405).end(\"Method Not Allowed\");\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,IAAI,IAAI,MAAM,KAAK,QAAQ;QACzB,IAAI;YACF,QAAQ,GAAG,CAAC,UAAU,QAAQ,GAAG,CAAC,eAAe;YAEjD,MAAM,SAAS,IAAI,sLAAiB,CAAC;gBACnC,aAAa,QAAQ,GAAG,CAAC,eAAe;YAC1C;YAEA,MAAM,aAAa,IAAI,+KAAU,CAAC;YAElC,MAAM,WAAW,MAAM,WAAW,MAAM,CAAC;gBACvC,MAAM;oBACJ,OAAO;wBACL;4BACE,OAAO;4BACP,YAAY;4BACZ,UAAU;wBACZ;qBACD;oBACD,WAAW;wBACT,SACE;wBACF,SACE;wBACF,SACE;oBACJ;oBACA,aAAa;gBACf;YACF;YAEA,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,KAAK,SAAS,UAAU;YAAC;QAClD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;YACpC,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,OAAO,MAAM,OAAO;YAAC;QAC9C;IACF,OAAO;QACL,IAAI,SAAS,CAAC,SAAS;QACvB,IAAI,MAAM,CAAC,KAAK,GAAG,CAAC;IACtB;AACF"}}]
}